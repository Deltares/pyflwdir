<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Change Log &mdash; pyflwdir  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Contributing" href="contributing.html" />
    <link rel="prev" title="Reference" href="reference.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> pyflwdir
          </a>
              <div class="version">
                0.1.
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="background.html">Background</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="flwdir.html">Flow direction data</a></li>
<li class="toctree-l1"><a class="reference internal" href="from_dem.html">Flow directions from elevation data</a></li>
<li class="toctree-l1"><a class="reference internal" href="basins.html">Deliniation of (sub)basins</a></li>
<li class="toctree-l1"><a class="reference internal" href="streams.html">Stream order</a></li>
<li class="toctree-l1"><a class="reference internal" href="tracing.html">Tracing flow directions</a></li>
<li class="toctree-l1"><a class="reference internal" href="elevation_indices.html">Elevation indices</a></li>
<li class="toctree-l1"><a class="reference internal" href="upscaling.html">Flow direction upscaling</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference Guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="reference.html">API reference</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Changelog</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#jan-2022">0.5.4  (18-Jan-2022)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#improved">Improved</a></li>
<li class="toctree-l3"><a class="reference internal" href="#bugfix">Bugfix</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#nov-2021">0.5.3  (18-Nov-2021)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">Improved</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2">Bugfix</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id3">0.5.2 (17-Nov-2021)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#new">New</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id4">Improved</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#oct-2021">0.5.1 (3-Oct-2021)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id5">New</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#sept-2021">0.5 (28-Sept-2021)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id6">New</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id7">Improved</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id8">Bugfix</a></li>
<li class="toctree-l3"><a class="reference internal" href="#deprecated">Deprecated</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id9">0.4.6</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id10">Improved</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id11">0.4.5</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id12">New</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id13">0.4.4</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id14">Improved</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id15">0.4.3</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id16">Improved</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id17">New</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id18">0.4.2</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id19">Improved</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id20">New</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id21">0.4.1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id22">Improved</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id23">New</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id24">0.4.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id25">Improved</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id26">New</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id27">0.3.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id28">Improved</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id29">New</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id30">0.2.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id31">New</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id32">Improved</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id33">0.1.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id34">New</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing to PyFlwDir</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/Deltares/pyflwdir">Github repository</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pyflwdir</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Change Log</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/changelog.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<section id="change-log">
<h1>Change Log<a class="headerlink" href="#change-log" title="Permalink to this headline"></a></h1>
<section id="jan-2022">
<h2>0.5.4  (18-Jan-2022)<a class="headerlink" href="#jan-2022" title="Permalink to this headline"></a></h2>
<section id="improved">
<h3>Improved<a class="headerlink" href="#improved" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>prioritize non-boundary cells with same elevation over boundary cells in dem.fill_depressions #17</p></li>
</ul>
</section>
<section id="bugfix">
<h3>Bugfix<a class="headerlink" href="#bugfix" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>fix dem_adjust method #16</p></li>
</ul>
</section>
</section>
<section id="nov-2021">
<h2>0.5.3  (18-Nov-2021)<a class="headerlink" href="#nov-2021" title="Permalink to this headline"></a></h2>
<section id="id1">
<h3>Improved<a class="headerlink" href="#id1" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>add new idxs_pit argument to dem.fill_despressions</p></li>
</ul>
</section>
<section id="id2">
<h3>Bugfix<a class="headerlink" href="#id2" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>min_rivdph argument was not always applied in FlwdirRaster.river_depth</p></li>
</ul>
</section>
</section>
<section id="id3">
<h2>0.5.2 (17-Nov-2021)<a class="headerlink" href="#id3" title="Permalink to this headline"></a></h2>
<section id="new">
<h3>New<a class="headerlink" href="#new" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Flwdir.river_depth for gradually varying flow (gvf) and manning river depth estimation</p></li>
<li><p>Flwdir.path method to get the indices of flow paths for vector flow directions</p></li>
</ul>
</section>
<section id="id4">
<h3>Improved<a class="headerlink" href="#id4" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>FlwdirRaster.streams method includes a (zero-length) line at pits and adds option for trace direction in combination with segment end cells.</p></li>
<li><p>Moved accuflux method from FlwdirRaster to parent Flwdir class.</p></li>
<li><p>Additional <cite>how</cite> argument in fillnodata to indicate how to combine values at confluences. Min, max, sum and mean are supported.</p></li>
</ul>
</section>
</section>
<section id="oct-2021">
<h2>0.5.1 (3-Oct-2021)<a class="headerlink" href="#oct-2021" title="Permalink to this headline"></a></h2>
<section id="id5">
<h3>New<a class="headerlink" href="#id5" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Restore FlwdirRaster.inflow_idxs and FlwdirRaster.outflow_idxs methods</p></li>
</ul>
</section>
</section>
<section id="sept-2021">
<h2>0.5 (28-Sept-2021)<a class="headerlink" href="#sept-2021" title="Permalink to this headline"></a></h2>
<section id="id6">
<h3>New<a class="headerlink" href="#id6" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>General Flwdir object for 1D vector based (instead of raster based) flow directions</p></li>
<li><p>flwdir.from_dataframe methods to derive a Flwdir object from a (Geo)DataFrame based on the row index and a column with downstream row indices.</p></li>
<li><p>dem.fill_depressions and pyflwdir.from_dem methods to derive flow directions from DEMs based on Wang &amp; Lui (2015)</p></li>
<li><p>gis_utils.get_edge method to get a boolean mask of valid cells at the interface with nodata cells or the array edge.</p></li>
<li><p>gis_utils.spread2d method to spread valid values on a 2D raster with optional friction and mask rasters</p></li>
<li><p>FlwdirRaster.dem_dig_d4 method to adjust a DEM such that each cell has a 4D neighbor with equal or lower elevation.</p></li>
<li><p>FlwdirRaster.fillnodata method fill nodata gaps by propagating valid values up or downstream.</p></li>
<li><p>region.region_outlets method; which is also wrapped in the new FlwdirRaster.basin_outlets method</p></li>
<li><p>region.region_dissolve method to dissovle regions into their nearest neighboring region</p></li>
<li><p>FlwdirRaster.subbasins_areas method to derive subbasins based on a minimal area threshold</p></li>
</ul>
</section>
<section id="id7">
<h3>Improved<a class="headerlink" href="#id7" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>added type=”classis” for bottum-up stream order to FlwdirRaster.stream_order, default is type=”strahler”</p></li>
<li><p>return subbasin outlet indices for all FlwdirRaster.subbasin* methods</p></li>
<li><p>improved subgrid slope method with optional lstsq regression based slope</p></li>
<li><p>FlwdirRaster.streams takes an optional <cite>idxs_out</cite> argument to derive stream vectors for unit catchments</p></li>
<li><p>FlwdirRaster.streams takes an optional <cite>max_len</cite> argument to split large segments into multiple smaller ones.</p></li>
<li><p>Using the new Flwdir object as common base of FlwdirRaster to share methods and properties</p></li>
<li><p>gis_utils.IDENTITY transform has North -&gt; South orientation (yres &lt; 0) instead of S-&gt;N orientation which is in line with flow direction rasters.</p></li>
<li><p>new <cite>restrict_strord</cite> argument in FlwdirRaster.moving_average and FlwdirRaster.moving_median methods to restrict the moving window to cells with same or larger stream order.</p></li>
</ul>
</section>
<section id="id8">
<h3>Bugfix<a class="headerlink" href="#id8" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>strahler stream_order method gave incorrect results</p></li>
<li><p>basins.subbasins_pfafstetter reimplementation to fix mall functioning when jitted</p></li>
<li><p>FlwdirRaster.streams fix when called with optional <cite>min_sto</cite> argument</p></li>
</ul>
</section>
<section id="deprecated">
<h3>Deprecated<a class="headerlink" href="#deprecated" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>FlwdirRaster.main_tributaries method is deprecated due to mallfunctioning when jitted</p></li>
<li><p>FlwdirRaster.inflow_idxs and FlwdirRaster.outflow_idxs</p></li>
</ul>
</section>
</section>
<section id="id9">
<h2>0.4.6<a class="headerlink" href="#id9" title="Permalink to this headline"></a></h2>
<section id="id10">
<h3>Improved<a class="headerlink" href="#id10" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>vectorizing of local flow directions and streams in seperate methods</p></li>
<li><p>fixed subbasins method</p></li>
<li><p>documentation using nbsphinx</p></li>
</ul>
</section>
</section>
<section id="id11">
<h2>0.4.5<a class="headerlink" href="#id11" title="Permalink to this headline"></a></h2>
<section id="id12">
<h3>New<a class="headerlink" href="#id12" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>subbasin_mask_within_region</p></li>
<li><p>contiguous_area_within_region</p></li>
</ul>
</section>
</section>
<section id="id13">
<h2>0.4.4<a class="headerlink" href="#id13" title="Permalink to this headline"></a></h2>
<section id="id14">
<h3>Improved<a class="headerlink" href="#id14" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>IHU upscaling (HESS preprint)</p></li>
</ul>
</section>
</section>
<section id="id15">
<h2>0.4.3<a class="headerlink" href="#id15" title="Permalink to this headline"></a></h2>
<section id="id16">
<h3>Improved<a class="headerlink" href="#id16" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>vectorizing of streams</p></li>
<li><p>pfafstetter method improved</p></li>
<li><p>remove use of pandas and geopandas to limit dependencies</p></li>
</ul>
</section>
<section id="id17">
<h3>New<a class="headerlink" href="#id17" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>new subbasins method</p></li>
<li><p>features method in favor vectorize</p></li>
</ul>
</section>
</section>
<section id="id18">
<h2>0.4.2<a class="headerlink" href="#id18" title="Permalink to this headline"></a></h2>
<section id="id19">
<h3>Improved<a class="headerlink" href="#id19" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>improved test coverage</p></li>
<li><p>prepared release for pip</p></li>
</ul>
</section>
<section id="id20">
<h3>New<a class="headerlink" href="#id20" title="Permalink to this headline"></a></h3>
</section>
</section>
<section id="id21">
<h2>0.4.1<a class="headerlink" href="#id21" title="Permalink to this headline"></a></h2>
<section id="id22">
<h3>Improved<a class="headerlink" href="#id22" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>code reformatted using black</p></li>
<li><p>improved subgrid river methods</p></li>
</ul>
</section>
<section id="id23">
<h3>New<a class="headerlink" href="#id23" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>subgrid_rivlen, subgrid_rivslp methods in favor of ucat_channel (will be deprecated)</p></li>
</ul>
</section>
</section>
<section id="id24">
<h2>0.4.0<a class="headerlink" href="#id24" title="Permalink to this headline"></a></h2>
<section id="id25">
<h3>Improved<a class="headerlink" href="#id25" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>improved COM upscaling</p></li>
</ul>
</section>
<section id="id26">
<h3>New<a class="headerlink" href="#id26" title="Permalink to this headline"></a></h3>
</section>
</section>
<section id="id27">
<h2>0.3.0<a class="headerlink" href="#id27" title="Permalink to this headline"></a></h2>
<section id="id28">
<h3>Improved<a class="headerlink" href="#id28" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>simplified data layout based on linear downstream cell indices and a ordered sequence or down- to upstream cell indices.</p></li>
</ul>
</section>
<section id="id29">
<h3>New<a class="headerlink" href="#id29" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>hand - height above neares drain based on Nobre et al. (2016)</p></li>
<li><p>floodplains - flood plain delineation based on Nardi et al. (2019)</p></li>
<li><p>snap/path - methods to follow a streamline in up-  or downstream direction</p></li>
</ul>
</section>
</section>
<section id="id30">
<h2>0.2.0<a class="headerlink" href="#id30" title="Permalink to this headline"></a></h2>
<section id="id31">
<h3>New<a class="headerlink" href="#id31" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>suport for multiple flow direction types</p></li>
</ul>
</section>
<section id="id32">
<h3>Improved<a class="headerlink" href="#id32" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>upscale - Connecting outlets method is born</p></li>
</ul>
</section>
</section>
<section id="id33">
<h2>0.1.0<a class="headerlink" href="#id33" title="Permalink to this headline"></a></h2>
<section id="id34">
<h3>New<a class="headerlink" href="#id34" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>setup_network - Setup all upstream - downstream connections based on the flow direcion map.</p></li>
<li><p>get_pits - Return the indices of the pits/outlets in the flow direction map.</p></li>
<li><p>upstream_area - Returns the upstream area [km] based on the flow direction map.</p></li>
<li><p>stream_order - Returns the Strahler Order map</p></li>
<li><p>delineate_basins - Returns a map with basin ids and corresponding bounding boxes.</p></li>
<li><p>basin_map - Returns a map with (sub)basins based on the up- downstream network.</p></li>
<li><p>ucat_map - Returns the unit-subcatchment and outlets map.</p></li>
<li><p>basin_shape - Returns the vectorized basin boundary.</p></li>
<li><p>stream_shape - Returns a GeoDataFrame with vectorized river segments.</p></li>
<li><p>upscale - Returns upscaled flow direction map using the extended effective area method.</p></li>
<li><p>propagate_downstream - Returns a map with accumulated material from all upstream cells.</p></li>
<li><p>propagate_upstream - Returns a map with accumulated material from all downstream cells.</p></li>
<li><p>adjust_elevation - Returns hydrologically adjusted elevation map.</p></li>
</ul>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="reference.html" class="btn btn-neutral float-left" title="Reference" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="contributing.html" class="btn btn-neutral float-right" title="Contributing" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Deltares.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>